{% extends 'base.html' %}

{% block title %}Dashboard - English Coach{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    
    <!-- Welcome Section -->
    <div class="mb-8">
        <h1 class="text-3xl font-display font-bold text-onSurface">
            Hello, {{ user.username|default:"Student" }}! ðŸ‘‹
        </h1>
        <p class="mt-2 text-onSurfaceVariant">Ready to continue your English journey?</p>
    </div>

    <!-- Stats Grid -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <!-- Lessons Card -->
        <div class="bg-surfaceContainerLow rounded-[24px] p-6 shadow-elevation-none border border-outline/10">
            <div class="flex items-center gap-4 mb-4">
                <div class="h-12 w-12 rounded-2xl bg-primaryContainer text-onPrimaryContainer flex items-center justify-center">
                    <span class="material-symbols-rounded text-2xl">book</span>
                </div>
                <div>
                    <p class="text-sm font-medium text-onSurfaceVariant">Total Lessons</p>
                    <h3 class="text-2xl font-bold text-onSurface">{{ progress.completed_lessons.count }}</h3>
                </div>
            </div>
            <a href="{% url 'my_lessons' %}" class="text-sm font-medium text-primary hover:text-primary/80 flex items-center gap-1">
                View all lessons <span class="material-symbols-rounded text-base">arrow_forward</span>
            </a>
        </div>

        <!-- Practice Time Card -->
        <div class="bg-surfaceContainerLow rounded-[24px] p-6 shadow-elevation-none border border-outline/10">
            <div class="flex items-center gap-4 mb-4">
                <div class="h-12 w-12 rounded-2xl bg-secondaryContainer text-onSecondaryContainer flex items-center justify-center">
                    <span class="material-symbols-rounded text-2xl">timer</span>
                </div>
                <div>
                    <p class="text-sm font-medium text-onSurfaceVariant">Practice Time</p>
                    <h3 class="text-2xl font-bold text-onSurface">{{ progress.practice_time_minutes }}m</h3>
                </div>
            </div>
            <p class="text-sm text-onSurfaceVariant">Total time</p>
        </div>

        <!-- Streak Card -->
        <div class="bg-surfaceContainerLow rounded-[24px] p-6 shadow-elevation-none border border-outline/10">
            <div class="flex items-center gap-4 mb-4">
                <div class="h-12 w-12 rounded-2xl bg-tertiaryContainer text-onTertiaryContainer flex items-center justify-center">
                    <span class="material-symbols-rounded text-2xl">local_fire_department</span>
                </div>
                <div>
                    <p class="text-sm font-medium text-onSurfaceVariant">Current Streak</p>
                    <h3 class="text-2xl font-bold text-onSurface">{{ progress.current_streak }} Days</h3>
                </div>
            </div>
            <p class="text-sm text-onSurfaceVariant">Keep it up!</p>
        </div>
    </div>

    <!-- Quick Actions -->
    <h2 class="text-xl font-bold text-onSurface mb-4">Quick Actions</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
        <a href="{% url 'conversation' %}" class="group bg-primaryContainer hover:bg-primaryContainer/80 transition-colors rounded-[24px] p-6 flex flex-col items-start relative overflow-hidden">
            <div class="h-10 w-10 rounded-full bg-onPrimaryContainer/10 flex items-center justify-center mb-4 text-onPrimaryContainer">
                <span class="material-symbols-rounded text-2xl">mic</span>
            </div>
            <h3 class="text-lg font-bold text-onPrimaryContainer mb-1">Voice Coach</h3>
            <p class="text-sm text-onPrimaryContainer/80">Practice speaking</p>
            <div class="absolute -right-4 -bottom-4 opacity-10 transform rotate-12 group-hover:scale-110 transition-transform">
                <span class="material-symbols-rounded text-9xl text-onPrimaryContainer">mic</span>
            </div>
        </a>

        <a href="{% url 'library' %}" class="group bg-secondaryContainer hover:bg-secondaryContainer/80 transition-colors rounded-[24px] p-6 flex flex-col items-start relative overflow-hidden">
            <div class="h-10 w-10 rounded-full bg-onSecondaryContainer/10 flex items-center justify-center mb-4 text-onSecondaryContainer">
                <span class="material-symbols-rounded text-2xl">local_library</span>
            </div>
            <h3 class="text-lg font-bold text-onSecondaryContainer mb-1">Library</h3>
            <p class="text-sm text-onSecondaryContainer/80">Read AI books</p>
            <div class="absolute -right-4 -bottom-4 opacity-10 transform rotate-12 group-hover:scale-110 transition-transform">
                <span class="material-symbols-rounded text-9xl text-onSecondaryContainer">local_library</span>
            </div>
        </a>
    </div>
</div>
{% endblock %}
